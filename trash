function teamLister() {
    const teamListContainer = document.querySelector('.teamList');

    for (let i = 0; i < teams.length; i++) {
        const teamID = teams[i];
        const teamCard = document.createElement('div');
        teamCard.classList.add('cardTeam');
        findImage(teamCard, teamID, i);

        teamListContainer.appendChild(teamCard);
    }
}

function findImage(teamCard, teamID, i) {
    fetch(`https://corsproxy.io/?https://api.football-data.org/v2/teams/${teamID}`, {
        headers: {
            'X-Auth-Token': 'be3a4a0da29649b49f4e2993959b7c28'
        }
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data && data.crestUrl) {
            const teamName = data.name;
            const teamLogoURL = data.crestUrl;
            const teamID = data.id;
            teamCard.innerHTML = `
                <h1 id="teamName">${teamName}</h1>
                <img id="teamLogo" src="${teamLogoURL}" alt="${teamName} Logo">
                <button class="view-button">View</button>
                <button onclick="removeTeam(${i})">Remove</button>
            `;

            // Get the "View" button element
            const viewButton = teamCard.querySelector('.view-button');

            // Add event listener to the "View" button
            viewButton.addEventListener('click', function() {
                // Redirect to pastMatches.html with team ID as query parameter
                window.location.href = `pastMatches.html?teamId=${teamID}`;
            });
        } 
    })
}





//----

leagueDropdown.addEventListener('change', function() {
    const selectedLeagueId = this.value;
    const leagueSelected = document.getElementById('leagueSelected');

    populateTeams(selectedLeagueId);
});

teamDropdown.addEventListener('change', function() {
    const selectedTeamId = this.value;
    const teamLogo = document.getElementById('teamImage');
    fetch(`https://corsproxy.io/?https://api.football-data.org/v2/teams/${selectedTeamId}`, {
        headers: {
            'X-Auth-Token': `${apiToken}`
        }
    })
    .then(response => {
        return response.json();
    })
    .then(data => {
        if (data && data.crestUrl) {
            teamLogo.src = data.crestUrl; 
            teamLogo.alt = data.name; 
            addedTeamID = selectedTeamId;
        }
    })
   
});